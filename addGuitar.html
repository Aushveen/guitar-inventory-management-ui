<!DOCTYPE html>
<html>
<head>
    <title>Add Guitar</title>
</head>
<body>
    <h2>Add Guitar</h2>
    <form id="addGuitarForm">
        <label>Serial Number:</label>
        <input id="serialNumber" />
        <label>Price:</label>
        <input id="price" />
        <label>Builder:</label>
        <input id="builder" />
        <label>Model:</label>
        <input id="model" />
        <label>Type:</label>
        <input id="type" />
        <label>Back Wood:</label>
        <input id="backWood" />
        <label>Top Wood:</label>
        <input id="topWood" />
        <button type="button" onclick="addGuitar()">Add Guitar</button>
    </form>
    <button onclick="window.location.href='index.html'">Back to Home</button>

    <script>
        function addGuitar() {
            const guitar = {
                serialNumber: document.getElementById('serialNumber').value,
                price: document.getElementById('price').value,
                builder: document.getElementById('builder').value,
                model: document.getElementById('model').value,
                type: document.getElementById('type').value,
                backWood: document.getElementById('backWood').value,
                topWood: document.getElementById('topWood').value,
            };

            fetch('http://localhost:8080/add', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(guitar),
            })
            .then(response => {
                if(response.ok){
                    return response.json();
                }
                throw new Error('Network response was not ok.');
            })
            .then(data => {
                console.log('Success:', data);
                alert('The guitar was added to the system');
            })
            .catch((error) => {
                console.log('Error:', error);
                alert('Something went wrong. Please try again or contact the customer support team');
            })
        }
    </script>
</body>
</html>