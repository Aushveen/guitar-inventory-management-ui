<!DOCTYPE html>
<html>
<head>
    <title>Add Guitar</title>
</head>
<body>
    <h2>Add Guitar</h2>
    <form id="addGuitarForm">
        Serial Number: <input type="text" id="serialNumber" required><br>
        Price: <input type="number" id="price" required><br>
        Builder: <input type="text" id="builder" required><br>
        Model: <input type="text" id="model" required><br>
        Type: <input type="text" id="type" required><br>
        Back Wood: <input type="text" id="backWood" required><br>
        Top Wood: <input type="text" id="topWood" required><br>
        <button type="button" onclick="addGuitar()">Add Guitar</button>
    </form>
    <button onclick="window.location.href='index.html'">Back to Home</button>

    <script>
        function addGuitar() {
            const guitar = {
                serialNumber: document.getElementById('serialNumber').value,
                price: document.getElementById('price').value,
                builder: document.getElementById('builder').value,
                model: document.getElementById('model').value,
                type: document.getElementById('type').value,
                backWood: document.getElementById('backWood').value,
                topWood: document.getElementById('topWood').value,
            };

            fetch('http://localhost:8080/add', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(guitar),
            })
            .then(response => {
                if(response.ok){
                    return response.json();
                }
                throw new Error('Network response was not ok.');
            })
            .then(data => {
                console.log('Success:', data);
                alert('The guitar was added to the system');
            })
            .catch((error) => {
                console.log('Error:', error);
                alert('Something went wrong. Please try again or contact the customer support team');
            })
        }
    </script>
</body>
</html>